---
layout: post
title: On the Intel CPU Vulnerabilties
---
Man, 2018 is already off to a great start isn't it? Not even a week in, and one of the biggest names in computer hardware has revealed that a decade worth of architecture has had a pretty serious security flaw in each and every design. This flaw has lead the fundamental  kernel design of Windows, MACOSX, and Linux to be restructured from the ground up. But what is all the concern about? We need to take a look at the core problems surrounding the issue.

**Spectre**
A class of exploits that attack any modern processor's branching execution pipeline. Modern CPUs can execute multiple "paths" of instructions simultaneously, when the right path depends on the result of a calculation that haven't yet completed. The CPU then discards the results it doesn't need and keeps the ones it does. This general idea is present in every modern processor design, and without it even our highest clocked CPUs would have the performance of some 90s-era piece of shit. But, the machinery that makes it possible is very intricate, and these attacks are meant to twist the way the CPU operates under the hood in ways the designers didn't expect. To completely eliminate this class of attacks will require a redesign of every architecture, to figure out how to prevent side-channel information disclosure from speculative branches. This will likely take years. There is no other workaround. It's possible that these techniques will be used to craft exploits in the wild, but the level of difficulty is probably very high.

**Meltdown**
A specific attack that allows non-readable addresses to be read. It works by speculatively reading the memory and then quickly side-channeling it out before an exception occurs. This is easy to exploit (HUGE information leaks, reading disk encryption keys, keyboard input, etc), trivial to reproduce under most conditions, and definitely affects Intel processors. It potentially could affect AMD, but AMD claims that their microarchitecture doesn't allow even speculative reads that violate page protections in this manner. If this is true, it completely kills the vulnerability with no workaround required. The current workaround (KPTI/KAISER) works by unmapping kernel memory from the user address space. This is expensive, and workloads that need to call into the kernel frequently will suffer a lot.


**So What does this mean?**

As of writing this, Intel, Windows, MacOSX, and Linux OSes are rolling out significant kernel patches in order to address this vulnerability. However, these updates can have been reported to significantly decrease performance in operations that involve heavy I/O by up to 30% (worst case). While the average desktop may not see a significant decrease in performance (depending on what activities you do on it). However, a majority of data centers across the globe utilize Intel CPU architectures in their servers. Since these servers require many write operations on a day to day basis, I forsee that most data centers will either take a significant and exorbitant a mount of measures in order to try and block any attempts to utilize the exploit, or they will slowly start integrating other CPU architectures into their design plans, such as AMD.
